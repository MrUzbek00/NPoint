{% extends 'npoint_app/base.html' %}
{% load static %}
{% block content %}
<body>
  <div class="d-flex flex-column">

    <main class="flex py-5">
      <div class="container w-25">
          <div class="text-center my-4">
            <h2 class="h2 font-weight-bold mb-1">Password Recovery</h2>
            <p class="text-muted">Enter your username to receive a password reset code.</p>
          </div>


        <div class="bg-white rounded-lg shadow-sm p-4 mb-5">
          <div class="row ">
            <div class="d-flex col-12 mb-3 mb-md-0">
              {% if stage == "request" %}
              <form method="POST", action= "{% url "password_reset" %}"  method="post" class="form-row w-100 align-items-center">
                {% csrf_token %}
               
                <input type="hidden" name="step" value="request">
                  <div class="col-12">
                    <input name="username" class="form-control" placeholder="Enter your username" required>
                  </div>
                  <div class="col-12 mt-3 ">
                    <button class="btn button-primary-custom col-12" type="submit">Send Reset Code</button>
                  </div>
               </form>
               {% else %}
               <form method="POST", action= "{% url "password_reset" %}"  method="post" class="form-row w-100 align-items-center">
                {% csrf_token %}
             
                <input type="hidden" name="step" value="confirm">
                  <div class="col-12 mb-3">
                    <input type="text" name="reset_code" class="form-control" placeholder="Enter the reset code" required>
                  </div>
                  <div class="col-12 mt-3 ">
                    <button class="btn button-primary-custom col-12" type="submit">Reset Password</button>
                  </div>
               </form>
                {% endif %}
            </div>
          </div>
          </div>
      </div>
    </main>
  </div>
</body>

{% endblock %}